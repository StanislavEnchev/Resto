<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>–†–µ—Å—Ç–æ—Ç–æ –º–∏!</title>

<style>
  body {
    background-color: #f2e5d5;
    font-family: Arial, sans-serif;
    padding: 20px;
  }

  h1 { font-size: 28px; margin-bottom: 20px; }
  label { display: block; margin-top: 15px; font-weight: bold; }

  input, select {
    padding: 10px;
    margin-top: 5px;
    border-radius: 6px;
    border: 1px solid #aaa;
    background: #ffffff;
    font-size: 16px;
  }

  /* –ü–æ–ª–µ—Ç–æ –∑–∞ –≤–∞–ª—É—Ç–∞ ‚Äî 33% —à–∏—Ä–∏–Ω–∞ */
  .currency-small {
    width: 33%;
    display: inline-block;
  }

  /* –î—Ä—É–≥–∏—Ç–µ –ø–æ–ª–µ—Ç–∞ ‚Äî –ø—ä–ª–Ω–∞ —à–∏—Ä–∏–Ω–∞ */
  .full {
    width: 100%;
  }

  /* –ò–∫–æ–Ω–∏—Ç–µ ‚Äì –ø–æ-–º–∞–ª–∫–∏, –±–µ–∑ —Ñ–æ–Ω –∏ –±–µ–∑ —Ä–∞–º–∫–∞ */
  .iconBtn {
    background: none;
    border: none;
    font-size: 18px;    /* –Ω–∞–º–∞–ª–µ–Ω–∏ –æ—Ç 24px ‚Üí 18px */
    cursor: pointer;
    padding: 2px 6px;
  }

  #result {
    margin-top: 25px;
    font-size: 18px;
    font-weight: bold;
  }

  /* –¢—ä–º–µ–Ω —Ä–µ–∂–∏–º */
  body.dark { background-color: #1e1e1e; color: #f2f2f2; }
  body.dark input, body.dark select {
    background: #333;
    color: #fff;
    border: 1px solid #666;
  }
</style>

</head>
<body>

<h1>–†–µ—Å—Ç–æ—Ç–æ –º–∏!</h1>

<!-- –ò–∫–æ–Ω–∏—Ç–µ -->
<button class="iconBtn" onclick="toggleDarkMode()">üåô</button>
<button class="iconBtn" onclick="toggleLanguage()">üåê</button>
<button class="iconBtn" onclick="clearFields()">üßπ</button>

<label>–¶–µ–Ω–∞:</label>
<input type="number" step="0.01" id="price" placeholder="0" class="full" oninput="calculate()" />

<label>–í–∞–ª—É—Ç–∞:</label>
<select id="currency" class="currency-small" oninput="calculate()">
  <option value="EUR">EUR (‚Ç¨)</option>
  <option value="BGN">BGN (–ª–≤.)</option>
</select>

<label>–°—É–º–∞ –Ω–∞ –ø–ª–∞—â–∞–Ω–µ (–ª–≤.):</label>
<input type="number" step="0.01" id="paid" placeholder="0" class="full" oninput="calculate()" />

<div id="result"></div>

<script>
function toggleDarkMode() {
  document.body.classList.toggle('dark');
}

function calculate() {
  const priceInput = parseFloat(document.getElementById('price').value.replace(',', '.'));
  const paidBGN = parseFloat(document.getElementById('paid').value);
  const currency = document.getElementById('currency').value;
  const rate = 1.95583;
  const lang = document.documentElement.lang;

  if (isNaN(priceInput) || isNaN(paidBGN)) {
    document.getElementById('result').innerHTML =
      lang === 'bg' ? '–ú–æ–ª—è, –ø–æ–ø—ä–ª–Ω–µ—Ç–µ –≤—Å–∏—á–∫–∏ –ø–æ–ª–µ—Ç–∞.' : 'Please fill in all fields.';
    return;
  }

  let priceBGN = 0, priceEUR = 0;
  if (currency === 'EUR') {
    priceEUR = priceInput;
    priceBGN = priceInput * rate;
  } else {
    priceBGN = priceInput;
    priceEUR = priceInput / rate;
  }

  const changeBGN = paidBGN - priceBGN;
  const changeEUR = changeBGN / rate;

  document.getElementById('result').innerHTML =
    lang === 'bg'
      ? `–¶–µ–Ω–∞: ${priceBGN.toFixed(2)} –ª–≤. (${priceEUR.toFixed(2)} ‚Ç¨)<br>
         –ö—É—Ä—Å: 1 ‚Ç¨ = ${rate} –ª–≤.<br>
         –†–µ—Å—Ç–æ: ${changeBGN.toFixed(2)} –ª–≤. (${changeEUR.toFixed(2)} ‚Ç¨)`
      : `Price: ${priceBGN.toFixed(2)} lv. (${priceEUR.toFixed(2)} ‚Ç¨)<br>
         Rate: 1 ‚Ç¨ = ${rate} lv.<br>
         Change: ${changeBGN.toFixed(2)} lv. (${changeEUR.toFixed(2)} ‚Ç¨)`;
}

function clearFields() {
  document.getElementById('price').value = '';
  document.getElementById('paid').value = '';
  document.getElementById('result').innerHTML = '';
}

function toggleLanguage() {
  const current = document.documentElement.lang;

  if (current === 'bg') {
    document.documentElement.lang = 'en';
    document.querySelector('h1').textContent = 'My Change!';
    document.querySelectorAll('label')[0].textContent = 'Price:';
    document.querySelectorAll('label')[1].textContent = 'Currency:';
    document.querySelectorAll('label')[2].textContent = 'Amount Paid (BGN):';
  } else {
    document.documentElement.lang = 'bg';
    document.querySelector('h1').textContent = '–†–µ—Å—Ç–æ—Ç–æ –º–∏!';
    document.querySelectorAll('label')[0].textContent = '–¶–µ–Ω–∞:';
    document.querySelectorAll('label')[1].textContent = '–í–∞–ª—É—Ç–∞:';
    document.querySelectorAll('label')[2].textContent = '–°—É–º–∞ –Ω–∞ –ø–ª–∞—â–∞–Ω–µ (–ª–≤.):';
  }

  calculate();
}
</script>

</body>
</html>
